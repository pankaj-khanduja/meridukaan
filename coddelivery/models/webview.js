const Joi = require("joi");
const mongoose = require("mongoose");
const { valMsgFormatter } = require("../services/commonFunctions");
const webviewSchema = new mongoose.Schema({
  status: { type: String, enum: ["termsNConditions", "privacyPolicy", "aboutUs", "faq"] },
  role: { type: String, enum: ["user", "driver", "vendor"] },
  url: String,
  docType: String,
  text: String,
  insertDate: {
    type: Number,
    default: () => {
      return Math.round(new Date() / 1000);
    }
  },
  creationDate: {
    type: Date,
    default: () => {
      return new Date();
    }
  }
});
const Webview = mongoose.model("Webview", webviewSchema);
function validateWebviewPost(req) {
  const schema = Joi.object({
    status: Joi.string().valid("termsNConditions", "privacyPolicy", "aboutUs", "contactUs", "faq").required(),
    url: Joi.when("status", { is: "contactUs", then: Joi.string(), otherwise: Joi.string().required() }),
    docType: Joi.when("status", { is: "contactUs", then: Joi.string(), otherwise: Joi.string().required() }),
    text: Joi.when("status", { is: "contactUs", then: Joi.string().required(), otherwise: Joi.string() }),
    role: Joi.string().required()
  });
  let result = schema.validate(req);
  if (result.error) result.error.details[0].message = valMsgFormatter(result.error.details[0].message);
  return result;
}

function validateWebviewGet(req) {
  const schema = Joi.object({
    status: Joi.string().valid("termsNConditions", "privacyPolicy", "aboutUs", "contactUs", "faq")
  });
  let result = schema.validate(req);
  if (result.error) result.error.details[0].message = valMsgFormatter(result.error.details[0].message);
  return result;
}
exports.Webview = Webview;
exports.validateWebviewPost = validateWebviewPost;
exports.validateWebviewGet = validateWebviewGet;
// db.webviews.insert({ status: "faq", docType: "html", text: "<!DOCTYPE html> <html lang='en'> <head> <meta charset='utf-8' /> <meta name='viewport' content='width=device-width, initial-scale=1' /> <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous' /> <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js' integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM' crossorigin='anonymous' ></script> <title>Waive</title> <style type='text/css'> @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700&display=swap'); body { font-family: 'Nunito', sans-serif; color: #777; background-color: #fefbfa; } .accordion-button:not(.collapsed) { background-color: #f47b51; color: #fefbfa; } .accordion-button { font-weight: 500; color: #777; font-size: 18px; padding-right: 40px; } .accordion-button:focus { border-color: transparent; box-shadow: none; } .accordion-button::after { background-image: none; position: absolute; top: 50%; transform: translate(0, -50%); height: 10px; right: 15px; border: solid black; border-width: 0 2px 2px 0; display: inline-block; padding: 3px; width: 10px; transform: rotate(45deg); } .accordion-button:not(.collapsed)::after { background-image: none; transform: rotate(-133deg); border: solid #fff; border-width: 0 2px 2px 0; } .accordion-body { font-size: 16px; text-align: justify; } </style> </head> <body> <div class='accordion p-3' id='accordionExample'> <h5 class='mb-4 mt-2 text-center'>FREQUENTLY ASKED QUESTIONS</h5> <div class='accordion-item'> <h2 class='accordion-header' id='headingOne'> <button class='accordion-button' type='button' data-bs-toggle='collapse' data-bs-target='#collapseOne' aria-expanded='true' aria-controls='collapseOne' > How can I reach out to you </button> </h2> <div id='collapseOne' class='accordion-collapse collapse show' aria-labelledby='headingOne' data-bs-parent='#accordionExample' > <div class='accordion-body'> Contact our support team via the email address or phone number on our website or visit our physical office for a one on one conversation. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwo'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwo' aria-expanded='false' aria-controls='collapseTwo' > My card was rejected </button> </h2> <div id='collapseTwo' class='accordion-collapse collapse' aria-labelledby='headingTwo' data-bs-parent='#accordionExample' > <div class='accordion-body'> This could be a network issue from your local service provider or from your bank. Try turning off your internet connection and back on, also ensure you are inputting the correct information from your card. If this trouble persists, kindly contact our support center via email or call. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingThree'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseThree' aria-expanded='false' aria-controls='collapseThree' > OTP not received </button> </h2> <div id='collapseThree' class='accordion-collapse collapse' aria-labelledby='headingThree' data-bs-parent='#accordionExample' > <div class='accordion-body'> Issues like this are usually network related. Ensure you have a strong network connection. And make sure you are signing in with a WhatsApp registered number. If OTP is still not received, please contact our support for assistance. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingfour'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapsefour' aria-expanded='false' aria-controls='collapsefour' > Where is OTP sent? </button> </h2> <div id='collapsefour' class='accordion-collapse collapse' aria-labelledby='headingfour' data-bs-parent='#accordionExample' > <div class='accordion-body'> OTPs are sent to users via the WhatsApp instant messaging application. To receive OTP, ensure you sign in with a WhatsApp registered phone number </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingfive'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapsefive' aria-expanded='false' aria-controls='collapsefive' > Why does my order notification show Unassigned? </button> </h2> <div id='collapsefive' class='accordion-collapse collapse' aria-labelledby='headingfive' data-bs-parent='#accordionExample' > <div class='accordion-body'> When your order notification reads unassigned, it means that your order has not been assigned to a rider. As soon as your order gets assigned to a rider, you will get a notification and your order status on the app will be changed to 'assigned'. <br /><br /> If you experience any delay, kindly contact our support through any of the communication channels on the app so your order can be manually assigned. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingsix'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapsesix' aria-expanded='false' aria-controls='collapsesix' > I was debited twice, What should I do? </button> </h2> <div id='collapsesix' class='accordion-collapse collapse' aria-labelledby='headingsix' data-bs-parent='#accordionExample' > <div class='accordion-body'> Kindly send us an email with the proof of this transaction (receipt of your debit from the bank) and we will rectify this. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingseven'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseseven' aria-expanded='false' aria-controls='collapseseven' > Who uses waive? </button> </h2> <div id='collapseseven' class='accordion-collapse collapse' aria-labelledby='headingseven' data-bs-parent='#accordionExample' > <div class='accordion-body'> <ul> <li>Restaurant owners</li> <li>Groceries store owners</li> <li>Drinks store owners</li> <li>Consumers of all these products</li> </ul> </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingeight'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseeight' aria-expanded='false' aria-controls='collapseeight' > How can I check my past orders? </button> </h2> <div id='collapseeight' class='accordion-collapse collapse' aria-labelledby='headingeight' data-bs-parent='#accordionExample' > <div class='accordion-body'> The Waive app has a history tab, 'my orders' where records of all past and ongoing orders are being kept. To view this history all you need to do is <ul> <li>Click on the settings icon on the homepage of the app</li> <li>Click on my orders; there you will find all your past orders.</li> <li>To view details of any past order, click on the choice order.</li> </ul> </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingnine'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapsenine' aria-expanded='false' aria-controls='collapsenine' > How to cancel/ change order information/details? </button> </h2> <div id='collapsenine' class='accordion-collapse collapse' aria-labelledby='headingnine' data-bs-parent='#accordionExample' > <div class='accordion-body'> If you wish to cancel your order, change your order menu or any other details, kindly click the cancel button. However, this has to be done before the merchant accepts your order and sends your order out for delivery as we would be unable to cancel any order that is already in transit or already accepted by a merchant. <br /><br /> With regards to any refund of a payment you have made for a canceled order, please contact Waive customer support and not the restaurant. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTen' aria-expanded='false' aria-controls='collapseTen' > How long does delivery take? </button> </h2> <div id='collapseTen' class='accordion-collapse collapse' aria-labelledby='headingTen' data-bs-parent='#accordionExample' > <div class='accordion-body'> Our sole aim is to deliver your order to you as fast as possible, although delivery time for foods may vary based on the length of time it'd take to prepare your menu, the volume of your order as well as on the distance between the restaurant and your delivery address. <br /><br /> You can always see the estimated delivery time for each restaurant in your area on our mobile App. After placing an order, a more precise delivery time will be communicated with you on the app and then you can track your order on the go. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingEleven'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseEleven' aria-expanded='false' aria-controls='collapseEleven' > Will I get a cancel order text? </button> </h2> <div id='collapseEleven' class='accordion-collapse collapse' aria-labelledby='headingEleven' data-bs-parent='#accordionExample' > <div class='accordion-body'> As soon as your order cancellation is successful, you will receive a notification on your device. The same applies to orders canceled or rejected by vendors, you will get a notification. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwelve'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwelve' aria-expanded='false' aria-controls='collapseTwelve' > Will I get proof of delivery? </button> </h2> <div id='collapseTwelve' class='accordion-collapse collapse' aria-labelledby='headingTwelve' data-bs-parent='#accordionExample' > <div class='accordion-body'> Yes, you will get a notification as soon as the item is delivered. Infact, you will get an in-app notification for every stage of your order. All transactions will be in the order history tab on the App. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingThirteen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseThirteen' aria-expanded='false' aria-controls='collapseThirteen' > Can I track my shipment in real time? </button> </h2> <div id='collapseThirteen' class='accordion-collapse collapse' aria-labelledby='headingThirteen' data-bs-parent='#accordionExample' > <div class='accordion-body'> Yes. You can see where your order is at every given time using the tracking feature on the application. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingFourteen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseFourteen' aria-expanded='false' aria-controls='collapseFourteen' > How do I pay for my order? </button> </h2> <div id='collapseFourteen' class='accordion-collapse collapse' aria-labelledby='headingFourteen' data-bs-parent='#accordionExample' > <div class='accordion-body'> You have the option to pay either using card or cash on delivery (COD). It’s completely your choice </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingFifteen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseFifteen' aria-expanded='false' aria-controls='collapseFifteen' > What are Waive Restaurant operating hours? </button> </h2> <div id='collapseFifteen' class='accordion-collapse collapse' aria-labelledby='headingFifteen' data-bs-parent='#accordionExample' > <div class='accordion-body'> Restaurant operating hours vary according to different restaurants. Information regarding this can be seen in the app, just beside the restaurant’s name. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingSixteen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseSixteen' aria-expanded='false' aria-controls='collapseSixteen' > What are Waive Grocery operating hours? </button> </h2> <div id='collapseSixteen' class='accordion-collapse collapse' aria-labelledby='headingSixteen' data-bs-parent='#accordionExample' > <div class='accordion-body'>Every grocery operating hour can be seen on the app.</div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingSeventeen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseSeventeen' aria-expanded='false' aria-controls='collapseSeventeen' > Placing an order </button> </h2> <div id='collapseSeventeen' class='accordion-collapse collapse' aria-labelledby='headingSeventeen' data-bs-parent='#accordionExample' > <div class='accordion-body'> Our available payment options are cash on delivery (COD), various online payment methods as well as voucher code payments. You can check which payment methods are accepted at each restaurant on our app during checkout. <ul> <li> <b>For cash on delivery:</b> select ‘cash on delivery’ on the checkout page and pay the driver at your doorstep when you receive your order. </li> <li> <b>For online payments:</b> select 'online bank payment' on the checkout page and proceed to input the required bank details for payment. </li> </ul> </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingEighteen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseEighteen' aria-expanded='false' aria-controls='collapseEighteen' > Placing an order </button> </h2> <div id='collapseEighteen' class='accordion-collapse collapse' aria-labelledby='headingEighteen' data-bs-parent='#accordionExample' > <div class='accordion-body'> Our available payment options are cash on delivery (COD), various online payment methods as well as voucher code payments. You can check which payment methods are accepted at each restaurant on our app during checkout. <ul> <li> <b>For cash on delivery:</b> select ‘cash on delivery’ on the checkout page and pay the driver at your doorstep when you receive your order. </li> <li> <b>For online payments:</b> select 'online bank payment' on the checkout page and proceed to input the required bank details for payment. </li> </ul> </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingNineteen'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseNineteen' aria-expanded='false' aria-controls='collapseNineteen' > How do I get a delivery agent after I place an order? </button> </h2> <div id='collapseNineteen' class='accordion-collapse collapse' aria-labelledby='headingNineteen' data-bs-parent='#accordionExample' > <div class='accordion-body'> As soon as your order is accepted by the merchant/vendor, you will be automatically assigned to a delivery agent. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwenty'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwenty' aria-expanded='false' aria-controls='collapseTwenty' > Why is my proceed to pay button not working? </button> </h2> <div id='collapseTwenty' class='accordion-collapse collapse' aria-labelledby='headingTwenty' data-bs-parent='#accordionExample' > <div class='accordion-body'> It could be your internet connection. Try troubleshooting, turn off your internet and turn it on back. If this persists, kindly contact our support centre for assistance. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyOne'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyOne' aria-expanded='false' aria-controls='collapseTwentyOne' > I have an issue with a delivery, what should I do? </button> </h2> <div id='collapseTwentyOne' class='accordion-collapse collapse' aria-labelledby='headingTwentyOne' data-bs-parent='#accordionExample' > <div class='accordion-body'> Contact the store by using the contact information on the store. If the issue isn't resolved, contact our support center via the chat option on the top right hand corner of the order in question. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyOneA'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyOneA' aria-expanded='false' aria-controls='collapseTwentyOneA' > How can I become a Merchant on Waive? </button> </h2> <div id='collapseTwentyOneA' class='accordion-collapse collapse' aria-labelledby='headingTwentyOneA' data-bs-parent='#accordionExample' > <div class='accordion-body'> Contact us via email <a href='mailto:@support@waiveinc.com'>support@waiveinc.com</a>, or through the support contact listed on our website. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyTwo'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyTwo' aria-expanded='false' aria-controls='collapseTwentyTwo' > Returning an item </button> </h2> <div id='collapseTwentyTwo' class='accordion-collapse collapse' aria-labelledby='headingTwentyTwo' data-bs-parent='#accordionExample' > <div class='accordion-body'> We offer return and refund services based on the below conditions: <ul> <li> Food and perishable items-are not eligible for return, but if a wrong, damaged, defective or counterfeit/expired item is received, a full refund would be processed upon verification of claims. </li> <li> Non-food and Non-perishable items; are eligible for return a day/24hrs after delivery if the items received are either a wrong, damaged, defective or counterfeit/expired item. </li> </ul> To return an eligible item, kindly contact us on our customer service platforms. Also ensure that when returning an eligible item, ensure all seals, tags and accessories are left intact and the item is in its original packaging, otherwise, your return shall be invalid. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyThree'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyThree' aria-expanded='false' aria-controls='collapseTwentyThree' > Refunds </button> </h2> <div id='collapseTwentyThree' class='accordion-collapse collapse' aria-labelledby='headingTwentyThree' data-bs-parent='#accordionExample' > <div class='accordion-body'> Refunds in respect of returned products shall be managed in accordance with our refunds time-line. <ul> <li> Wallet refund: a refund would be processed to your wallet within 7 business days from the date the item is returned/retrieved, upon verification and validity of your return claims. You can choose to use your wallet refund upon your next order payment or you can choose to withdraw your wallet refund into your bank account. </li> <li> Voucher refund/reactivation: if payment for the returned order was made using a voucher code, the code would be reactivated within 7 business days from the date the item is returned/retrieved, upon verification and validity of your return claims. Also, if payment for the returned order was made using other payment options and a voucher refund is preferred, a voucher code would be created and sent to you, and you can use the code to make payment on your next order </li> </ul> </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyFour'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyFour' aria-expanded='false' aria-controls='collapseTwentyFour' > How can I become a Delivery agent? </button> </h2> <div id='collapseTwentyFour' class='accordion-collapse collapse' aria-labelledby='headingTwentyFour' data-bs-parent='#accordionExample' > <div class='accordion-body'> Contact us via email <a href='mailto:@support@waiveinc.com'> support@waiveinc.com</a>, through the contact numbers listed on our website or visit our office </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyFive'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyFive' aria-expanded='false' aria-controls='collapseTwentyFive' > Do I get Tips as a Rider? </button> </h2> <div id='collapseTwentyFive' class='accordion-collapse collapse' aria-labelledby='headingTwentyFive' data-bs-parent='#accordionExample' > <div class='accordion-body'> As a rider, you get to receive tips from customers. These tips can be seen in your earning dashboard on the driver app. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentySix'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentySix' aria-expanded='false' aria-controls='collapseTwentySix' > What is the Cash Limit a rider can have? </button> </h2> <div id='collapseTwentySix' class='accordion-collapse collapse' aria-labelledby='headingTwentySix' data-bs-parent='#accordionExample' > <div class='accordion-body'>A cash limit of NGN5000 has been set for riders to ensure credibility.</div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentySeven'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentySeven' aria-expanded='false' aria-controls='collapseTwentySeven' > What is the minimum delivery fee? </button> </h2> <div id='collapseTwentySeven' class='accordion-collapse collapse' aria-labelledby='headingTwentySeven' data-bs-parent='#accordionExample' > <div class='accordion-body'> The minimum delivery fee is NGN500. Fees below that amount are rounded up to NGN500. This is done to ensure that our drivers are sufficiently compensated for their services. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyEight'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyEight' aria-expanded='false' aria-controls='collapseTwentyEight' > Why do I get a Freeze prompt on my Riders App? </button> </h2> <div id='collapseTwentyEight' class='accordion-collapse collapse' aria-labelledby='headingTwentyEight' data-bs-parent='#accordionExample' > <div class='accordion-body'> You will get an 'account freeze' notification when you accept cash payments (COD) from customers beyond the stipulated cash limit. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingTwentyNine'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseTwentyNine' aria-expanded='false' aria-controls='collapseTwentyNine' > What do I do when I get a Freeze Prompt? </button> </h2> <div id='collapseTwentyNine' class='accordion-collapse collapse' aria-labelledby='headingTwentyNine' data-bs-parent='#accordionExample' > <div class='accordion-body'> When you get a freeze prompt/notification all you need to do is to remit the required amount to Waive. You can do this by <ul> <li>Clicking on your profile</li> <li>Click on earnings</li> <li>Click on pay now</li> </ul> You will be redirected to a page where you can input your payment information and payment will be made. </div> </div> </div> <div class='accordion-item'> <h2 class='accordion-header' id='headingThirty'> <button class='accordion-button collapsed' type='button' data-bs-toggle='collapse' data-bs-target='#collapseThirty' aria-expanded='false' aria-controls='collapseThirty' > How Long does it take to get my Documents Approved on the Driver's app? </button> </h2> <div id='collapseThirty' class='accordion-collapse collapse' aria-labelledby='headingThirty' data-bs-parent='#accordionExample' > <div class='accordion-body'> Document approval takes between 24hours or less. If it exceeds this time please contact our support services through any of the communication channels for assistance. </div> </div> </div> </div> </body> </html>" });
